{"ast":null,"code":"import _slicedToArray from\"/Users/jjmerri/workspace/fifty-fifty-token/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/jjmerri/workspace/fifty-fifty-token/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useRef,useEffect}from'react';var defaultProps={src:undefined,width:undefined,height:undefined,alt:undefined};var Image=function Image(_ref){var className=_ref.className,src=_ref.src,width=_ref.width,height=_ref.height,alt=_ref.alt,props=_objectWithoutProperties(_ref,[\"className\",\"src\",\"width\",\"height\",\"alt\"]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loaded=_useState2[0],setLoaded=_useState2[1];var image=useRef(null);useEffect(function(){handlePlaceholder(image.current);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var placeholderSrc=function placeholderSrc(w,h){return\"data:image/svg+xml,%3Csvg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 \".concat(w,\" \").concat(h,\"\\\"%3E%3C/svg%3E\");};var handlePlaceholder=function handlePlaceholder(img){var placeholder=document.createElement('img');if(!loaded){img.style.display='none';img.before(placeholder);placeholder.src=placeholderSrc(img.getAttribute('width')||0,img.getAttribute('height')||0);placeholder.width=img.getAttribute('width');placeholder.height=img.getAttribute('height');placeholder.style.opacity='0';img.className&&placeholder.classList.add(img.className);placeholder.remove();img.style.display='';}};function onLoad(){setLoaded(true);}return/*#__PURE__*/React.createElement(\"img\",Object.assign({},props,{ref:image,className:className,src:src,width:width,height:height,alt:alt,onLoad:onLoad}));};Image.defaultProps=defaultProps;export default Image;","map":{"version":3,"sources":["/Users/jjmerri/workspace/fifty-fifty-token/src/components/elements/Image.js"],"names":["React","useState","useRef","useEffect","defaultProps","src","undefined","width","height","alt","Image","className","props","loaded","setLoaded","image","handlePlaceholder","current","placeholderSrc","w","h","img","placeholder","document","createElement","style","display","before","getAttribute","opacity","classList","add","remove","onLoad"],"mappings":"sVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CAaA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,GAAG,CAAEC,SADc,CAEnBC,KAAK,CAAED,SAFY,CAGnBE,MAAM,CAAEF,SAHW,CAInBG,GAAG,CAAEH,SAJc,CAArB,CAOA,GAAMI,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAOR,IANJC,CAAAA,SAMI,MANJA,SAMI,CALJN,GAKI,MALJA,GAKI,CAJJE,KAII,MAJJA,KAII,CAHJC,MAGI,MAHJA,MAGI,CAFJC,GAEI,MAFJA,GAEI,CADDG,KACC,yFAEwBX,QAAQ,CAAC,KAAD,CAFhC,wCAEGY,MAFH,eAEWC,SAFX,eAIJ,GAAMC,CAAAA,KAAK,CAAGb,MAAM,CAAC,IAAD,CAApB,CAEAC,SAAS,CAAC,UAAM,CACda,iBAAiB,CAACD,KAAK,CAACE,OAAP,CAAjB,CACF;AACC,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAIC,CAAJ,CAAU,CAC/B,6FAAoFD,CAApF,aAAyFC,CAAzF,oBACD,CAFD,CAIA,GAAMJ,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACK,GAAD,CAAS,CACjC,GAAMC,CAAAA,WAAW,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB,CACA,GAAI,CAACX,MAAL,CAAa,CACXQ,GAAG,CAACI,KAAJ,CAAUC,OAAV,CAAoB,MAApB,CACAL,GAAG,CAACM,MAAJ,CAAWL,WAAX,EACAA,WAAW,CAACjB,GAAZ,CAAkBa,cAAc,CAC9BG,GAAG,CAACO,YAAJ,CAAiB,OAAjB,GAA6B,CADC,CAE9BP,GAAG,CAACO,YAAJ,CAAiB,QAAjB,GAA8B,CAFA,CAAhC,CAIAN,WAAW,CAACf,KAAZ,CAAoBc,GAAG,CAACO,YAAJ,CAAiB,OAAjB,CAApB,CACAN,WAAW,CAACd,MAAZ,CAAqBa,GAAG,CAACO,YAAJ,CAAiB,QAAjB,CAArB,CACAN,WAAW,CAACG,KAAZ,CAAkBI,OAAlB,CAA4B,GAA5B,CACAR,GAAG,CAACV,SAAJ,EAAiBW,WAAW,CAACQ,SAAZ,CAAsBC,GAAtB,CAA0BV,GAAG,CAACV,SAA9B,CAAjB,CACAW,WAAW,CAACU,MAAZ,GACAX,GAAG,CAACI,KAAJ,CAAUC,OAAV,CAAoB,EAApB,CACD,CACF,CAhBD,CAkBA,QAASO,CAAAA,MAAT,EAAkB,CAChBnB,SAAS,CAAC,IAAD,CAAT,CACD,CAED,mBACE,2CACMF,KADN,EAEE,GAAG,CAAEG,KAFP,CAGE,SAAS,CAAEJ,SAHb,CAIE,GAAG,CAAEN,GAJP,CAKE,KAAK,CAAEE,KALT,CAME,MAAM,CAAEC,MANV,CAOE,GAAG,CAAEC,GAPP,CAQE,MAAM,CAAEwB,MARV,GADF,CAWD,CAvDD,CA0DAvB,KAAK,CAACN,YAAN,CAAqBA,YAArB,CAEA,cAAeM,CAAAA,KAAf","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  src: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.string\n  ]).isRequired,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  alt: PropTypes.string\n}\n\nconst defaultProps = {\n  src: undefined,\n  width: undefined,\n  height: undefined,\n  alt: undefined\n}\n\nconst Image = ({\n  className,\n  src,\n  width,\n  height,\n  alt,\n  ...props\n}) => {\n\n  const [loaded, setLoaded] = useState(false);\n\n  const image = useRef(null);\n\n  useEffect(() => {\n    handlePlaceholder(image.current);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  \n  const placeholderSrc = (w, h) => {\n    return `data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${w} ${h}\"%3E%3C/svg%3E`;\n  }\n\n  const handlePlaceholder = (img) => {\n    const placeholder = document.createElement('img');\n    if (!loaded) {\n      img.style.display = 'none';\n      img.before(placeholder);\n      placeholder.src = placeholderSrc(\n        img.getAttribute('width') || 0,\n        img.getAttribute('height') || 0\n      );\n      placeholder.width = img.getAttribute('width');\n      placeholder.height = img.getAttribute('height');\n      placeholder.style.opacity = '0';\n      img.className && placeholder.classList.add(img.className);\n      placeholder.remove();\n      img.style.display = '';      \n    }\n  }\n\n  function onLoad() {\n    setLoaded(true);\n  }  \n\n  return (\n    <img\n      {...props}\n      ref={image}\n      className={className}\n      src={src}\n      width={width}\n      height={height}\n      alt={alt}\n      onLoad={onLoad} />\n  );\n}\n\nImage.propTypes = propTypes;\nImage.defaultProps = defaultProps;\n\nexport default Image;"]},"metadata":{},"sourceType":"module"}